# 前言

一年前已经简单的研究过关于uniswap的教程，但是了解的不够深入，由于最准备从对链的研究转对web3项目的研究，决定从新研究一个uniswap，会更加系统深入的了解这个defi项目

本教程在前期的话只会研究uniswap的项目原理和合约代码，关于前端的一些玩法，可能要到后面才会继续更新



# 什么是uniswap

uniswap是一款去中心化的defi应用，本质是一个自动化做市商，先说下什么是市商啊，在中心化的交易所中，如果用户想要进行买卖，首先需要买卖双方记性挂单，并且有中心化的交易所用类似交易账本的结构来维护，当买卖双方的价格合适的时候，也就是有买有卖的时候，会达成买卖。单uniswap是一个自动化的市商，关于自动化市商的基本原理，可以通过下面两个链接来了解详细的类容，站在巨人的肩膀上才能看的更远

uniswap白皮书 https://uniswap.org/whitepaper-v3.pdf

深入理解uniswap自动化市商 https://www.jianshu.com/p/5bb44a9cd220



# 合约架构

目前uniswap已经是出到了v3的版本，本教程代码的解析都是对v3版本记性分析



在这要说明一下结构



# 合约分析

uniswap的官网有招聘信息，哈哈哈，找时间看看

通过上面对uniswap的原理分析，uniswap的自动化商市是由智能合约实现的，整个项目的项目合约由两部分组成，由核心合约部分和周边合约部分

核心合约部分为与Uniswap互动的各方提供了基本的安全保障，它们定义了池生成的逻辑、池本身以及涉及其中各个资产的交互

周边合约与一个或多个核心合约相互作用，但不是核心合约的一部分，它们旨在提供与核心交互的方法，以提高清晰度和用户安全性

外部调用将主要调用外围接口，后面我们会到一个router的路由合约，就是通过这个合约来和核心合约交互

## 核心部分

核心合约主要由工厂合约、交易池合约和部署合约组成

### UniswapV3Pool





### UniswapV3Factory

工厂合约，顾名思义，就剩生产一个个流动池的合约，接下直接从代码深入了解吧





1.接口合约里面的接口函数可以在子合约中以变量的方式来定义

2.接口合约里面的function(uint)returns(uint)